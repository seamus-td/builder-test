<div class="border-t border-gray-200">
  <!-- Filter Header -->
  <div
    class="flex items-center justify-between py-4 cursor-pointer"
    (click)="toggleExpanded()"
  >
    <h3 class="text-base font-semibold text-gray-900">{{ filter.title }}</h3>
    <i
      class="material-icons text-gray-600 transition-transform duration-200"
      [class.rotate-45]="filter.isExpanded"
    >
      add
    </i>
  </div>

  <!-- Filter Options -->
  <div *ngIf="filter.isExpanded" class="pb-4">
    <div class="space-y-3">
      <div
        *ngFor="let option of filter.options"
        class="flex items-center cursor-pointer hover:bg-gray-50 -mx-2 px-2 py-1 rounded"
        (click)="toggleOption(option)"
      >
        <!-- Custom Checkbox -->
        <div class="relative flex items-center">
          <input
            type="checkbox"
            [checked]="isOptionSelected(option)"
            [id]="filter.id + '-' + option.id"
            class="sr-only"
          />

          <div
            class="w-4 h-4 border-2 border-gray-300 rounded flex items-center justify-center bg-white transition-colors duration-200"
            [class.border-blue-600]="isOptionSelected(option)"
            [class.bg-blue-600]="isOptionSelected(option)"
          >
            <i
              *ngIf="isOptionSelected(option)"
              class="material-icons text-white text-xs"
              >check</i
            >
          </div>
        </div>

        <!-- Option Label -->
        <label
          [for]="filter.id + '-' + option.id"
          class="ml-3 text-sm text-gray-700 cursor-pointer select-none"
        >
          {{ option.label }}
        </label>
      </div>
    </div>
  </div>
</div>
